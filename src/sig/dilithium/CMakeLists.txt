# SPDX-License-Identifier: MIT

# This file was generated by
# scripts/copy_from_upstream/copy_from_upstream.py

cmake_minimum_required(VERSION 3.26)  # 必要な最小のCMakeバージョンを指定

project(lib-mask-ref2)  # プロジェクト名を指定

# 親スコープを作成
set(_DILITHIUM_OBJS)

if(OQS_ENABLE_SIG_dilithium_2)
    add_library(dilithium_2_ref OBJECT sig_dilithium_2.c pqcrystals-dilithium_dilithium2_ref/ntt.c pqcrystals-dilithium_dilithium2_ref/packing.c pqcrystals-dilithium_dilithium2_ref/poly.c pqcrystals-dilithium_dilithium2_ref/polyvec.c pqcrystals-dilithium_dilithium2_ref/reduce.c pqcrystals-dilithium_dilithium2_ref/rounding.c pqcrystals-dilithium_dilithium2_ref/sign.c pqcrystals-dilithium_dilithium2_ref/noise.c)
    target_include_directories(dilithium_2_ref PRIVATE ${CMAKE_CURRENT_LIST_DIR}/pqcrystals-dilithium_dilithium2_ref)
    target_include_directories(dilithium_2_ref PRIVATE ${CMAKE_CURRENT_LIST_DIR}/../../common/pqclean_shims) # 修正箇所
    target_compile_options(dilithium_2_ref PUBLIC -DDILITHIUM_MODE=2 -DDILITHIUM_RANDOMIZED_SIGNING)
    # 親スコープに追加
    list(APPEND _DILITHIUM_OBJS $<TARGET_OBJECTS:dilithium_2_ref>)
endif()

# 親スコープに設定
set(DILITHIUM_OBJS ${_DILITHIUM_OBJS} PARENT_SCOPE)
